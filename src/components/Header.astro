---
interface Props {
    links?: Array<{
        text: string;
        href: string;
    }>;
    ctaText?: string;
}

const {
    links = [
        { text: 'De Ce Noi', href: '#benefits' },
        { text: 'Avantaje', href: '#advantages' },
        { text: 'Capabilități', href: '#capabilities' },
        { text: 'Contact', href: '#contact' }
    ],
    ctaText = 'Solicită Demo'
} = Astro.props;
---

<nav id="navbar">
    <div class="nav-container">
        <a href="/" class="logo">Web<span>SEM</span></a>

        <button class="nav-mobile-toggle" id="mobile-toggle" aria-label="Toggle menu">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <div class="nav-links" id="nav-links">
            {links.map(link => (
                <a href={link.href} class="nav-link">{link.text}</a>
            ))}
            <a href="javascript:void(0)" class="nav-cta" id="open-booking-modal">
                <span class="nav-cta-glow"></span>
                {ctaText}
            </a>
        </div>
    </div>
</nav>

<script>
    // Scroll effect
    const navbar = document.getElementById('navbar');
    window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
            navbar?.classList.add('scrolled');
        } else {
            navbar?.classList.remove('scrolled');
        }
    });

    // Mobile menu toggle
    const mobileToggle = document.getElementById('mobile-toggle');
    const navLinks = document.getElementById('nav-links');

    mobileToggle?.addEventListener('click', () => {
        navLinks?.classList.toggle('active');
    });

    // Close mobile menu on link click
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', () => {
            navLinks?.classList.remove('active');
        });
    });

    // Open booking modal
    const openModalBtn = document.getElementById('open-booking-modal');
    openModalBtn?.addEventListener('click', () => {
        const modal = document.getElementById('booking-modal');
        modal?.classList.add('active');
        document.body.classList.add('modal-open');
    });
</script>
